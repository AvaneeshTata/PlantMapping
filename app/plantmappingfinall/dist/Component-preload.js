//@ui5-bundle plantmappingfinall/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"plantmappingfinall/Component.js":function(){sap.ui.define(["sap/fe/core/AppComponent"],function(n){"use strict";return n.extend("plantmappingfinall.Component",{metadata:{manifest:"json"}})});
},
	"plantmappingfinall/ext/controller/Createlist.js":function(){sap.ui.define(["sap/m/MessageToast","sap/m/Dialog","sap/m/Button"],function(e){"use strict";return{createhandler:function(t){debugger;var a=this._view.getContent()[0].getContent();var r=sap.ui.core.Fragment.createId("id");var n=sap.ui.core.Fragment.createId("comboBox");var o=sap.ui.core.Fragment.createId("form");var s=sap.ui.core.Fragment.createId("bd");var i=sap.ui.core.Fragment.createId("cancel");var l=new sap.m.ComboBox(n,{showSecondaryValues:true,filterSecondaryValues:true,value:"{/comboBoxValue}",selectedKey:"{/comboBoxKey}",items:{path:"/CountriesCollection",sorter:{path:"text"},template:new sap.ui.core.ListItem({key:"{plant}",text:"{plant}",additionalText:"{plant_info}"}),length:400},required:true});var g;var u=this._view.getModel().sServiceUrl;$.ajax({url:u+"info",type:"GET",contentType:"application/json",success:function(e){var t=e.value;var a=new sap.ui.model.json.JSONModel({CountriesCollection:t});l.setModel(a)},error:function(t){e.show(t.responseJSON.error.message)}});var m=new sap.ui.layout.form.Form(o,{layout:new sap.ui.layout.form.ResponsiveGridLayout,formContainers:[new sap.ui.layout.form.FormContainer({formElements:[new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"Plant"}),fields:[l]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBG"}),fields:[new sap.m.Input]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBU"}),fields:[new sap.m.Input]})]})]});var p=new sap.m.Dialog(r,{title:"Plant Mapping",content:m});var c=new sap.m.Button(s,{text:"Save",press:async function(t,r){debugger;var n=t.getSource();var o=n.getParent();var s=o.getContent()[0];var i=s.getFormContainers()[0].getFormElements()[0].getFields()[0];var l=i.getSelectedKey();var g=i.getValue();if(!g){e.show("Please fill in the Plant field.");return}var m=s.getFormContainers()[0].getFormElements()[1].getFields()[0];var p=m.getValue();var c=s.getFormContainers()[0].getFormElements()[2].getFields()[0];var d=c.getValue();var f;if(this.getParent().getParent().oRootNode.baseURI){f=this.getParent().getParent().oRootNode.baseURI;var v=f.replace("/index.html","")}else if(t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string){f=t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string}$.ajax({url:u+"plant",type:"POST",contentType:"application/json",data:JSON.stringify({plant:g,SBG:p,SBU:d}),success:function(t){e.show("created successfully");a.refresh();o.close()},error:function(t){if(t.responseJSON&&t.responseJSON.error&&t.responseJSON.error.message==="Entity already exists"){e.show("Entry with this Plant already exists")}else{e.show(t.responseJSON.error.message)}}})}});var d=new sap.m.Button(i,{text:"Cancel",press:function(){p.close()}});p.addButton(c);p.addButton(d);p.open()}}});
},
	"plantmappingfinall/ext/controller/Uploadexcel.js":function(){sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/UIComponent"],function(e,r,t){"use strict";function n(t,n){var o;function a(e){o&&o.getBeginButton().setEnabled(e)}function l(e){o.setBusy(e)}function i(){o&&o.close()}function s(r,t,n){e.error("Upload failed",{title:"Error"})}function u(e){return sap.ui.core.Fragment.byId("excelUploadDialog",e)}return{onBeforeOpen:function(e){o=e.getSource();t.addDependent(o)},onAfterClose:function(e){t.removeDependent(o);o.destroy();o=undefined},onOk:function(e){debugger;l(true);var r=u("uploader");var t=new sap.ui.unified.FileUploaderParameter;t.setName("slug");t.setValue(n);r.removeHeaderParameter("slug");r.addHeaderParameter(t);debugger;var o=e.getSource().getParent().getParent().getParent().getModel().aBindings[0].oModel.sServiceUrl;var a=o+"ExcelUpload/excel";r.setUploadUrl(a);r.checkFileReadable().then(function(){r.upload()}).catch(function(e){s("The file cannot be read.");l(false)})},onCancel:function(e){i()},onTypeMismatch:function(e){var r=e.getSource().getFileType().map(function(e){return"*."+e}).join(", ");s("The file type *."+e.getParameter("fileType")+" is not supported. Choose one of the following types: "+r)},onFileAllowed:function(e){a(true)},onFileEmpty:function(e){a(false)},onUploadComplete:function(e){var n=e.getParameter("status");var o=e.getSource();o.clear();a(false);l(false);if(n>=400){var u;try{u=JSON.parse(e.getParameter("responseRaw"))}catch(r){u=e.getParameter("responseRaw")}if(u&&u.error&&u.error.message){s(u.error.code,u.error.target,u&&u.error&&u.error.message)}}else{r.show("File uploaded successfully");t.refresh();i()}}}}return{upload:function(e,r){debugger;this.loadFragment({id:"excelUploadDialog",name:"plantmappingfinall.ext.fragment.uploadfrag",controller:n(this,"plant")}).then(function(e){e.open()})}}});
},
	"plantmappingfinall/ext/fragment/EDitfragment.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><Button  id="vv43" core:require="{ handler: \'plantmappingfinall/ext/fragment/EDitfragment\'}" text="Edit" press="handler.onPress" /></core:FragmentDefinition>',
	"plantmappingfinall/ext/fragment/Editfinal.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><Button id="id32"  core:require="{ handler: \'plantmappingfinall/ext/fragment/Editfinal\'}" text="Edit" press="handler.onPress" /></core:FragmentDefinition>',
	"plantmappingfinall/ext/fragment/Editfinal.js":function(){sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){const a=this._view.getModel().sServiceUrl;var r=t.getSource().getParent().getCells()[0].getText();var n=t.getSource().getParent().getCells()[1].getText();var o=t.getSource().getParent().getCells()[2].getText();var s=this._view.getContent()[0].getContent();var l=sap.ui.core.Fragment.createId("id");var i=sap.ui.core.Fragment.createId("comboBox");var g=sap.ui.core.Fragment.createId("form");var u=sap.ui.core.Fragment.createId("bd");var m=sap.ui.core.Fragment.createId("cancel");var c=new sap.m.ComboBox(i,{showSecondaryValues:true,filterSecondaryValues:true,value:"{/comboBoxValue}",selectedKey:"{/comboBoxKey}",editable:false,items:{path:"/CountriesCollection",sorter:{path:"text"},template:new sap.ui.core.ListItem({key:"{key}",text:"{text}",additionalText:"{val}"})}});var p=new sap.ui.model.json.JSONModel({CountriesCollection:[{key:"Option4",text:"Option 4",val:"demo4"},{key:"Option5",text:"Option 5",val:"demo5"},{key:"Option6",text:"Option 6",val:"demo6"}]});c.setModel(p);c.setValue(r);var d=new sap.ui.layout.form.Form(g,{layout:new sap.ui.layout.form.ResponsiveGridLayout,formContainers:[new sap.ui.layout.form.FormContainer({formElements:[new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"Plant"}),fields:[c]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBG"}),fields:[new sap.m.Input({value:n})]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBU"}),fields:[new sap.m.Input({value:o})]})]})]});var v=new sap.m.Dialog(l,{title:"Plant Mapping",content:d});var P=new sap.m.Button(u,{text:"Save",press:async function(t,r){debugger;var n=t.getSource();var o=n.getParent();var l=o.getContent()[0];var i=l.getFormContainers()[0].getFormElements()[0].getFields()[0];var g=i.getValue();var u=l.getFormContainers()[0].getFormElements()[1].getFields()[0];var m=u.getValue();var c=l.getFormContainers()[0].getFormElements()[2].getFields()[0];var p=c.getValue();var d;if(this.getParent().getParent().oRootNode.baseURI){d=this.getParent().getParent().oRootNode.baseURI;var v=d.replace("/index.html","")}else if(t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string){v=t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string}$.ajax({url:a+`plant('${g}')`,type:"PATCH",contentType:"application/json",data:JSON.stringify({SBG:m,SBU:p}),success:function(t){e.show("Update successful");s.refresh();o.close();o.destroy()},error:function(t){e.show("Error updating data on the server.")}})}});var f=new sap.m.Button(m,{text:"Cancel",press:function(){v.close();v.destroy()}});v.addButton(P);v.addButton(f);v.open()}}});
},
	"plantmappingfinall/ext/fragment/uploadfrag.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core"\n    xmlns:u="sap.ui.unified"\n    xmlns="sap.m"><Dialog id="_IDDialog"\n        title="Excel Upload"\n        class="sapUiResponsiveContentPadding"\n        beforeOpen=".onBeforeOpen"\n        afterClose=".onAfterClose"><content><u:FileUploader id="uploader"\n                fileType="xlsx"\n                multiple="false"\n                uploadUrl="StudentsSrv/ExcelUpload/excel"\n                fileAllowed=".onFileAllowed"\n                fileEmpty=".onFileEmpty"\n                uploadComplete=".onUploadComplete"\n                typeMissmatch=".onTypeMismatch"\n                sendXHR="true"\n                useMultipart="false"\n                placeholder="Choose a xlsx file..."\n                httpRequestMethod="Put" /></content><beginButton><Button id="ok"\n                text="OK"\n                press=".onOk"\n                type="Emphasized"\n                enabled="false" /></beginButton><endButton><Button id="cancel"\n                text="Cancel"\n                press=".onCancel" /></endButton></Dialog></core:FragmentDefinition>',
	"plantmappingfinall/i18n/i18n.properties":'# This is the resource bundle for plantmappingfinall\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Plant Mapping\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\nflpTitle=Plant Mapping\n',
	"plantmappingfinall/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"plantmappingfinall","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.12.3","toolsId":"db1ecd99-4489-4334-9b42-5ff31be0fcb3"},"dataSources":{"mainService":{"uri":"odata/v4/my/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"plantmappingfinal-display":{"semanticObject":"plantmappingfinal","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.6","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"plantmappingfinall.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"routes":[{"pattern":":?query:","name":"plantList","target":"plantList"}],"targets":{"plantList":{"type":"Component","id":"plantList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/plant","variantManagement":"Page","navigation":{},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"actions":{"createid":{"press":"plantmappingfinall.ext.controller.Createlist.createhandler","visible":true,"enabled":true,"requiresSelection":false,"text":"Create"},"uplaodid":{"press":"plantmappingfinall.ext.controller.Uploadexcel.upload","visible":true,"enabled":true,"requiresSelection":false,"text":"upload","position":{"placement":"Before","anchor":"createid"}}},"columns":{"Editfinal":{"header":"    ","position":{"anchor":"DataField::SBU","placement":"After"},"template":"plantmappingfinall.ext.fragment.Editfinal"}}}},"defaultTemplateAnnotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#table","initialLoad":"Enabled"}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"plantmappingfinal"}}'
}});
