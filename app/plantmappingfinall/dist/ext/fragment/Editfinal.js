sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){const a=this._view.getModel().sServiceUrl;var r=t.getSource().getParent().getCells()[0].getText();var n=t.getSource().getParent().getCells()[1].getText();var o=t.getSource().getParent().getCells()[2].getText();var s=this._view.getContent()[0].getContent();var l=sap.ui.core.Fragment.createId("id");var i=sap.ui.core.Fragment.createId("comboBox");var g=sap.ui.core.Fragment.createId("form");var u=sap.ui.core.Fragment.createId("bd");var m=sap.ui.core.Fragment.createId("cancel");var c=new sap.m.ComboBox(i,{showSecondaryValues:true,filterSecondaryValues:true,value:"{/comboBoxValue}",selectedKey:"{/comboBoxKey}",editable:false,items:{path:"/CountriesCollection",sorter:{path:"text"},template:new sap.ui.core.ListItem({key:"{key}",text:"{text}",additionalText:"{val}"})}});var p=new sap.ui.model.json.JSONModel({CountriesCollection:[{key:"Option4",text:"Option 4",val:"demo4"},{key:"Option5",text:"Option 5",val:"demo5"},{key:"Option6",text:"Option 6",val:"demo6"}]});c.setModel(p);c.setValue(r);var d=new sap.ui.layout.form.Form(g,{layout:new sap.ui.layout.form.ResponsiveGridLayout,formContainers:[new sap.ui.layout.form.FormContainer({formElements:[new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"Plant"}),fields:[c]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBG"}),fields:[new sap.m.Input({value:n})]}),new sap.ui.layout.form.FormElement({label:new sap.m.Label({text:"SBU"}),fields:[new sap.m.Input({value:o})]})]})]});var v=new sap.m.Dialog(l,{title:"Plant Mapping",content:d});var P=new sap.m.Button(u,{text:"Save",press:async function(t,r){debugger;var n=t.getSource();var o=n.getParent();var l=o.getContent()[0];var i=l.getFormContainers()[0].getFormElements()[0].getFields()[0];var g=i.getValue();var u=l.getFormContainers()[0].getFormElements()[1].getFields()[0];var m=u.getValue();var c=l.getFormContainers()[0].getFormElements()[2].getFields()[0];var p=c.getValue();var d;if(this.getParent().getParent().oRootNode.baseURI){d=this.getParent().getParent().oRootNode.baseURI;var v=d.replace("/index.html","")}else if(t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string){v=t.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string}$.ajax({url:a+`plant('${g}')`,type:"PATCH",contentType:"application/json",data:JSON.stringify({SBG:m,SBU:p}),success:function(t){e.show("Update successful");s.refresh();o.close();o.destroy()},error:function(t){e.show("Error updating data on the server.")}})}});var f=new sap.m.Button(m,{text:"Cancel",press:function(){v.close();v.destroy()}});v.addButton(P);v.addButton(f);v.open()}}});